/**
 * ng-scrollbar
 * @version v0.0.8 - 2017-08-29
 * @link https://github.com/asafdav/ng-scrollbar
 * @author Asaf David <asafdav@gmail.com>
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
"use strict";angular.module("ngScrollbar",[]).directive("ngScrollbar",["$parse","$window","$timeout",function(a,b,c){return{restrict:"A",replace:!0,transclude:!0,scope:{showYScrollbar:"=?isBarShown",touchEventWidth:"=",hideScrollOnOut:"=",hideTimeout:"=",scrollerMinHeight:"="},link:function(a,b,d){function e(){return a.hideScrollOnOut}function f(){c.cancel(n),a.showYScrollbar=!0,a.$digest(),a.$emit("scrollbar.show")}function g(){a.hideTimeout||1e3;e()&&(n=c(function(){a.showYScrollbar=!1,a.$emit("scrollbar.hide")}))}function h(a){function b(a){f();var b=a.pageY-d;d=a.pageY,o(function(){s[0].scrollTop+=b/m})}function c(){a.removeClass("ss-grabbed"),p.removeClass("ss-grabbed"),p.off("mousemove",b),p.off("mouseup",c)}var d;a.on("mousedown",function(e){return d=e.pageY,a.addClass("ss-grabbed"),p.addClass("ss-grabbed"),p.on("mousemove",b),p.on("mouseup",c),!1}),s.on("touchstart",function(){f()}),s.on("touchend",function(){g()}),s.on("mouseleave",function(){j()})}function i(a){f(),l(a)}function j(a){g()}function k(a){c(function(){h(t),l(),s.on("scroll",l),a.on("mouseenter",i);var b=window.getComputedStyle(a[0]);"0px"===b.height&&"0px"!==b["max-height"]&&a.css("height",b["max-height"])})}function l(){var b=s[0].scrollHeight,c=q[0].clientHeight,d=a.scrollerMinHeight;m=c/b;var e=d/c*100;console.log(e),c>0&&o(function(){if(m>=1)t.addClass("ss-hidden");else{t.removeClass("ss-hidden");var a=s[0].scrollTop/b*100+"%";t.css({height:100*m+"%",top:a})}})}var m,n,o=window.requestAnimationFrame||window.setImmediate||function(a){return setTimeout(a,0)},p=angular.element(document.body),q=b,r=angular.element(b.children()[0]),s=angular.element(r.children()[0]),t=r.next();k(b)},template:'<div class="ss-container" ng-class="{\'show-scroll\': showYScrollbar}">         <div class="ss-wrapper">           <div class="ss-content" ng-transclude>           </div>         </div>         <div class="ss-scroll"></div>       </div>'}}]);